#  Variables de Entorno para Producci贸n - Sistema Certificados DRTC
# Copiar este archivo como .env.production y configurar los valores reales

# =============================================================================
# CONFIGURACIN DJANGO
# =============================================================================

# Configuraci贸n b谩sica
DJANGO_SETTINGS_MODULE=config.settings.production
DEBUG=False
SECRET_KEY=tu_secret_key_super_seguro_de_al_menos_50_caracteres_aqui_cambiar_obligatorio

# Hosts permitidos (separados por coma)
ALLOWED_HOSTS=certificados.drtc.gob.pe,www.certificados.drtc.gob.pe,localhost,127.0.0.1

# URLs base
SITE_URL=https://certificados.drtc.gob.pe
ADMIN_URL=admin/

# =============================================================================
# BASE DE DATOS POSTGRESQL
# =============================================================================

DB_ENGINE=django.db.backends.postgresql
DB_NAME=certificados_prod
DB_USER=certificados_user
DB_PASSWORD=password_super_seguro_para_bd_cambiar_obligatorio
DB_HOST=db
DB_PORT=5432

# Configuraci贸n adicional de PostgreSQL
DB_CONN_MAX_AGE=600
DB_OPTIONS={"sslmode": "prefer"}

# =============================================================================
# REDIS (CACHE Y SESIONES)
# =============================================================================

REDIS_URL=redis://redis:6379/0
REDIS_CACHE_URL=redis://redis:6379/1
REDIS_SESSION_URL=redis://redis:6379/2

# =============================================================================
# CONFIGURACIN DE EMAIL
# =============================================================================

# SMTP Configuration
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=certificados@drtc.gob.pe
EMAIL_HOST_PASSWORD=tu_app_password_de_gmail_cambiar

# Emails por defecto
DEFAULT_FROM_EMAIL=Sistema de Certificados DRTC <certificados@drtc.gob.pe>
SERVER_EMAIL=servidor@drtc.gob.pe
ADMINS=admin@drtc.gob.pe,sistemas@drtc.gob.pe

# =============================================================================
# ARCHIVOS ESTTICOS Y MEDIA
# =============================================================================

# Archivos est谩ticos
STATIC_URL=/static/
STATIC_ROOT=/app/staticfiles

# Archivos media
MEDIA_URL=/media/
MEDIA_ROOT=/app/media

# =============================================================================
# SEGURIDAD
# =============================================================================

# HTTPS y seguridad
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
SECURE_REFERRER_POLICY=strict-origin-when-cross-origin

# Cookies seguras
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=True

# CSRF y CORS
CSRF_TRUSTED_ORIGINS=https://certificados.drtc.gob.pe,https://www.certificados.drtc.gob.pe
CORS_ALLOWED_ORIGINS=https://certificados.drtc.gob.pe,https://www.certificados.drtc.gob.pe

# =============================================================================
# LOGGING
# =============================================================================

# Nivel de logging
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=INFO

# Archivos de log
LOG_DIR=/app/logs
LOG_FILE=/app/logs/django.log
CERTIFICATES_LOG_FILE=/app/logs/certificates.log
ERROR_LOG_FILE=/app/logs/error.log

# =============================================================================
# CONFIGURACIN DE PERFORMANCE
# =============================================================================

# Cache
CACHE_TIMEOUT=3600
CACHE_KEY_PREFIX=certificados_prod

# Rate limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# Configuraci贸n de Gunicorn
GUNICORN_WORKERS=4
GUNICORN_WORKER_CLASS=sync
GUNICORN_TIMEOUT=300
GUNICORN_KEEPALIVE=5

# =============================================================================
# CONFIGURACIN ESPECFICA DRTC
# =============================================================================

# Informaci贸n institucional
INSTITUTION_NAME=Direcci贸n Regional de Trabajo y Promoci贸n del Empleo - Puno
INSTITUTION_SHORT_NAME=DRTC Puno
INSTITUTION_ADDRESS=Jr. Deustua 356, Puno, Per煤
INSTITUTION_PHONE=+51 51 351234
INSTITUTION_EMAIL=info@drtc.gob.pe
INSTITUTION_WEBSITE=https://www.drtc.gob.pe

# Configuraci贸n de certificados
CERTIFICATE_VALIDITY_YEARS=5
CERTIFICATE_PREFIX=DRTC
CERTIFICATE_NUMBERING_FORMAT=DRTC-{year}-{sequence:06d}

# Firmas autorizadas
AUTHORIZED_SIGNERS=Director Regional,Subdirector,Jefe de Capacitaci贸n
DEFAULT_SIGNER=Director Regional de Trabajo

# =============================================================================
# SERVICIOS EXTERNOS (OPCIONAL)
# =============================================================================

# Servicio de Firma Digital
SIGNATURE_SERVICE_URL=https://api.firma-digital.gob.pe
SIGNATURE_API_KEY=tu_api_key_de_firma_digital
SIGNATURE_TIMEOUT=30
SIGNATURE_ENABLED=False

# Servicio de validaci贸n de DNI
DNI_VALIDATION_URL=https://api.reniec.gob.pe/consulta
DNI_VALIDATION_TOKEN=tu_token_de_reniec
DNI_VALIDATION_ENABLED=False

# =============================================================================
# CONFIGURACIN DE BACKUP
# =============================================================================

# Backup autom谩tico
BACKUP_ENABLED=True
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *

# Almacenamiento de backups
BACKUP_STORAGE=local
BACKUP_LOCAL_PATH=/app/backups

# =============================================================================
# CONFIGURACIN DE MONITOREO
# =============================================================================

# Health checks
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_DATABASE=True
HEALTH_CHECK_CACHE=True
HEALTH_CHECK_STORAGE=True

# M茅tricas
METRICS_ENABLED=True
METRICS_ENDPOINT=/metrics/

# Notificaciones
NOTIFICATIONS_ENABLED=False
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/tu/webhook/url
EMAIL_NOTIFICATIONS=admin@drtc.gob.pe

# =============================================================================
# NOTAS IMPORTANTES DE SEGURIDAD
# =============================================================================

# 锔  CAMBIAR OBLIGATORIAMENTE:
# - SECRET_KEY: Generar uno 煤nico y seguro
# - DB_PASSWORD: Usar contrase帽a fuerte
# - EMAIL_HOST_PASSWORD: Configurar app password de Gmail
# - ALLOWED_HOSTS: Configurar dominios reales
# - Todas las URLs y credenciales de servicios externos

#  RECOMENDACIONES:
# - Usar HTTPS en producci贸n (configurar SSL)
# - Configurar firewall en el servidor
# - Monitorear logs regularmente
# - Hacer backups peri贸dicos
# - Actualizar certificados SSL antes del vencimiento